<!doctype html>
<html>
<head>
    <title>Obsidian Theme</title>

    <link rel="stylesheet" href="css/obsidian.css"/>
    <link rel="stylesheet" href="vendor/fontawesome/css/all.min.css"/>
</head>
<body>
    <time id="datetime"></time>

    <div id="users"></div>

    <template id="tpl-user">
        <div class="user">
            <button class="user-select">
                <div class="user-image-wrap">
                    <span class="user-initial"></span>
                    <img class="user-image"/>
                    <span class="user-logged-in"><i class="fas fa-sign-in-alt"></i></span>
                </div>
            </button>
            <span class="user-name"></span>
        </div>
    </template>

    <form id="password-form" name="password-form">
        <input id="password" type="password" placeholder="Password" disabled/><!--
        --><button id="login" type="submit"><i class="fas fa-angle-double-right"></i></button>
    </form>

    <div id="sessions">
        <button id="sessions-btn">
            <i class="fas fa-window-restore"></i>
            <span id="sessions-current"></span>
        </button>
    </div>

    <div id="power">
        <div id="power-trigger">
            <button id="power-trigger-btn"><i class="fas fa-cog"></i></button>
        </div>

        <div id="power-menu">
            <button id="power-suspend" title="Suspend">Suspend <i class="fas fa-fw fa-moon"></i></button>
            <button id="power-hibernate" title="Hibernate">Hibernate <i class="fas fa-fw fa-snowflake"></i></button>
            <button id="power-restart" title="Restart">Restart <i class="fas fa-fw fa-redo"></i></button>
            <button id="power-shutdown" title="Shutdown">Shutdown <i class="fas fa-fw fa-power-off"></i></button>
        </div>
    </div>

    <script src="js/obsidian.js"></script>
    <script src="vendor/mock.js"></script>

    <script>
        /* apparently, no window.onload is needed, but the setTimeout is */
        window.addEventListener('load', () => setTimeout(() => {
            /* initialize the theme */
            const theme = new ObsidianTheme();
            theme.init();

            /* setup global keybindings */
            document.addEventListener('keydown', (evt) => {
                if (evt.keyCode === 37 && evt.ctrlKey && evt.shiftKey) {
                    theme.selectLeft();
                }
                if (evt.keyCode === 39 && evt.ctrlKey && evt.shiftKey) {
                    theme.selectRight();
                }
            });
        }));
    </script>
</body>
</html>